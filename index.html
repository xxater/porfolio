<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Valery Gorbunov Portfolio</title>
  <style>
    /* Reset and Basic Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'MS Sans Serif', Arial, sans-serif;
      font-size: 14px;
      color: black;
      background-color: #008080; /* Windows 98 Teal */
      overflow: hidden;
      position: relative;
      height: 100vh;
      width: 100vw;
    }

    /* Loading Screen */
    #loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #008080;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      flex-direction: column;
    }
    #loading-screen h1 {
      color: white;
      font-size: 24px;
      margin-bottom: 20px;
      text-shadow: 1px 1px black;
    }
    #loading-screen .spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #ffffff;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Language Selection Modal */
    #language-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 128, 128, 0.95);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10000;
      flex-direction: column;
    }
    #language-modal h2 {
      color: white;
      font-size: 28px;
      margin-bottom: 20px;
      text-shadow: 1px 1px black;
    }
    .language-button {
      padding: 10px 20px;
      font-size: 18px;
      margin: 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      background-color: #FFD700;
      color: black;
      box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
      transition: background-color 0.2s, transform 0.2s;
    }
    .language-button:hover {
      background-color: #FFC300;
      transform: scale(1.05);
    }

    /* Desktop Icons */
    .desktop-icon {
      position: absolute;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      width: 70px;
      margin: 15px;
      cursor: pointer;
      user-select: none;
      transition: transform 0.2s;
    }
    .desktop-icon:hover {
      transform: scale(1.1);
    }
    .desktop-icon .icon {
      width: 64px;
      height: 64px;
      background-color: #C0C0C0;
      border: 2px solid #000;
      border-radius: 8px;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 5px;
      position: relative;
      box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
    }
    .desktop-icon .icon img {
      width: 48px;
      height: 48px;
    }
    .desktop-icon span {
      color: black;
      font-size: 12px;
      text-align: center;
      word-break: break-word;
      text-shadow: 1px 1px white;
    }

    /* Window Styles */
    .window {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border: 2px solid #000;
      border-top-color: #fff;
      border-left-color: #fff;
      width: 90%;
      max-width: 600px;
      background-color: #C0C0C0;
      cursor: default;
      z-index: 10;
      display: none;
      overflow: hidden;
      border-radius: 4px;
      box-shadow: 4px 4px 10px rgba(0,0,0,0.5);
      transition: all 0.3s ease;
    }
    .title-bar {
      background: linear-gradient(#000080, #000060);
      color: white;
      padding: 8px 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: move;
      user-select: none;
      font-weight: bold;
      font-size: 16px;
      border-bottom: 2px solid #fff;
    }
    .title-bar-controls {
      display: flex;
    }
    .title-bar-controls button {
      background-color: #C0C0C0;
      border: 1px solid #fff;
      width: 20px;
      height: 20px;
      margin-left: 4px;
      padding: 0;
      position: relative;
      cursor: pointer;
      border-radius: 2px;
      transition: background-color 0.2s;
    }
    .title-bar-controls button:hover {
      background-color: #A9A9A9;
    }
    /* Window Control Icons */
    .title-bar-controls button.minimize-button::before {
      content: '';
      position: absolute;
      top: 8px;
      left: 4px;
      width: 12px;
      height: 2px;
      background-color: black;
    }
    .title-bar-controls button.maximize-button::before {
      content: '';
      position: absolute;
      top: 4px;
      left: 4px;
      width: 12px;
      height: 12px;
      border: 1px solid black;
    }
    .title-bar-controls button.close-button::before,
    .title-bar-controls button.close-button::after {
      content: '';
      position: absolute;
      top: 4px;
      left: 8px;
      width: 2px;
      height: 12px;
      background-color: black;
    }
    .title-bar-controls button.close-button::before {
      transform: rotate(45deg);
    }
    .title-bar-controls button.close-button::after {
      transform: rotate(-45deg);
    }
    .content {
      padding: 15px;
      overflow: auto;
      max-height: calc(100vh - 80px);
      background-color: #D3D3D3;
      position: relative;
    }
    h1, h2, h3 {
      margin: 10px 0;
    }
    ul {
      list-style-type: none;
      padding-left: 0;
    }
    .skills, .experience, .education, .portfolio {
      margin-bottom: 20px;
    }
    .experience-item {
      margin-bottom: 15px;
      background-color: #FFFFFF;
      padding: 10px;
      border-radius: 4px;
      box-shadow: 1px 1px 3px rgba(0,0,0,0.2);
    }
    a {
      color: blue;
      text-decoration: underline;
    }

    /* Taskbar */
    #taskbar {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 80px;
      background-color: #C0C0C0;
      border-top: 2px solid #fff;
      border-left: 2px solid #fff;
      display: flex;
      align-items: center;
      z-index: 20;
      box-shadow: 0 -2px 5px rgba(0,0,0,0.3);
    }
    #start-button {
      background-color: #C0C0C0;
      border: 2px solid #fff;
      border-top-color: #000;
      border-left-color: #000;
      padding: 8px 12px;
      cursor: pointer;
      margin-left: 10px;
      display: flex;
      align-items: center;
      position: relative;
      border-radius: 2px;
      user-select: none;
      transition: background-color 0.2s;
    }
    #start-button:hover {
      background-color: #A9A9A9;
    }
    #start-button img {
      width: 20px;
      height: 20px;
      margin-right: 8px;
    }
    #start-button span {
      font-size: 16px;
      color: white;
      text-shadow: 1px 1px black;
    }
    #taskbar-buttons {
      display: flex;
      align-items: center;
      margin-left: 15px;
      overflow-x: auto;
      scrollbar-width: none; /* Firefox */
    }
    #taskbar-buttons::-webkit-scrollbar {
      display: none; /* Chrome, Safari, Opera */
    }
    .taskbar-button {
      background-color: #C0C0C0;
      border: 2px solid #fff;
      border-top-color: #000;
      border-left-color: #000;
      padding: 8px 14px;
      cursor: pointer;
      margin-right: 8px;
      display: flex;
      align-items: center;
      border-radius: 2px;
      user-select: none;
      white-space: nowrap;
      font-size: 14px;
      transition: background-color 0.2s, transform 0.2s;
    }
    .taskbar-button:hover {
      background-color: #A9A9A9;
      transform: scale(1.05);
    }
    .taskbar-button.active {
      border-top-color: #fff;
      border-left-color: #fff;
      border-bottom-color: #000;
      border-right-color: #000;
      background-color: #696969;
      color: white;
    }

    /* Start Menu */
    #start-menu {
      position: fixed;
      bottom: 90px;
      left: 10px;
      background-color: #C0C0C0;
      border: 2px solid #000;
      border-top-color: #fff;
      border-left-color: #fff;
      width: 240px;
      display: none;
      padding: 15px;
      z-index: 25;
      border-radius: 4px;
      box-shadow: 2px 2px 10px rgba(0,0,0,0.5);
    }
    #start-menu p {
      margin: 0 0 15px 0;
      font-size: 14px;
      color: black;
      text-shadow: 1px 1px white;
    }
    #start-menu a {
      display: block;
      margin: 8px 0;
      color: blue;
      text-decoration: underline;
      font-size: 14px;
      transition: color 0.2s;
    }
    #start-menu a:hover {
      color: darkblue;
    }

    /* Prevent selection */
    .unselectable {
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .desktop-icon {
        width: 60px;
        margin: 10px;
      }
      .desktop-icon .icon img {
        width: 36px;
        height: 36px;
      }
      .desktop-icon span {
        font-size: 11px;
      }
      .window {
        width: 95%;
        height: 90%;
      }
      #taskbar {
        height: 80px;
      }
      #start-button {
        padding: 10px 14px;
      }
      .taskbar-button {
        padding: 8px 14px;
        font-size: 14px;
      }
    }

    /* Smooth Window Transitions */
    .window.show {
      display: block;
      animation: fadeIn 0.3s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translate(-50%, -60%); }
      to { opacity: 1; transform: translate(-50%, -50%); }
    }

    /* Flappy Game Specific Styles */
    #flappy-canvas {
      touch-action: manipulation; /* Prevent default touch behaviors */
      background-color: #87CEEB; /* Sky Blue */
      position: relative;
      width: 100%;
      height: auto;
    }
    #restart-button {
      display: none; /* Hidden initially */
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 5px;
      background-color: #4CAF50;
      color: white;
      cursor: pointer;
      box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
      transition: background-color 0.2s, transform 0.2s;
    }
    #restart-button:hover {
      background-color: #45a049;
      transform: scale(1.05);
    }

    /* Explosion Animation */
    .explosion {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100px;
      height: 100px;
      background-color: transparent;
      border-radius: 50%;
      pointer-events: none;
      z-index: 100;
      display: none;
    }
    .explosion:before, .explosion:after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255,165,0,1) 0%, rgba(255,69,0,0.8) 50%, rgba(255,0,0,0.5) 100%);
      border-radius: 50%;
      transform: translate(-50%, -50%) scale(0);
      opacity: 0;
      animation: explode 0.5s forwards;
    }
    .explosion:after {
      animation-delay: 0.1s;
    }
    @keyframes explode {
      to {
        transform: translate(-50%, -50%) scale(1);
        opacity: 0;
      }
    }

    /* Profile Photo Retro Styling */
    .profile-photo {
      width: 150px;
      height: 150px;
      border: 2px solid #000;
      border-radius: 4px;
      object-fit: cover;
      filter: sepia(0.5) contrast(1.2) brightness(0.9);
      box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
      margin-bottom: 15px;
    }
    .celebrate-button {
      padding: 8px 16px;
      font-size: 14px;
      border: none;
      border-radius: 4px;
      background-color: #FFD700;
      color: black;
      cursor: pointer;
      box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
      transition: background-color 0.2s, transform 0.2s;
      margin-bottom: 15px;
    }
    .celebrate-button:hover {
      background-color: #FFC300;
      transform: scale(1.05);
    }

    /* Language Text Hidden Initially */
    .lang-hidden {
      display: none;
    }
  </style>
</head>
<body>
  <!-- Language Selection Modal -->
  <div id="language-modal">
    <h2>Select Language / Выберите язык</h2>
    <button class="language-button" id="english-button">English</button>
    <button class="language-button" id="russian-button">Русский</button>
  </div>

  <!-- Loading Screen -->
  <div id="loading-screen">
    <h1 data-lang-key="loading">Loading...</h1>
    <div class="spinner"></div>
  </div>

  <!-- Desktop Icons -->
  <div class="desktop-icon unselectable" id="portfolio-icon" style="top: 20%; left: 10%;">
    <div class="icon">
      <!-- Portfolio Shortcut Icon -->
      <img src="https://win98icons.alexmeub.com/icons/png/directory_open_file_mydocs-4.png" alt="Portfolio Icon">
    </div>
    <span data-lang-key="portfolio">Portfolio</span>
  </div>
  <div class="desktop-icon unselectable" id="flappy-icon" style="top: 20%; left: 30%;">
    <div class="icon">
      <!-- Flappy Game Shortcut Icon -->
      <img src="https://win98icons.alexmeub.com/icons/png/minesweeper-1.png" alt="Flappy Game Icon">
    </div>
    <span data-lang-key="flappy_game">Flappy Game</span>
  </div>

  <!-- Taskbar -->
  <div id="taskbar">
    <div id="start-button">
      <img src="https://win98icons.alexmeub.com/icons/png/windows-0.png" alt="Start Icon">
      <span data-lang-key="start">Start</span>
    </div>
    <div id="taskbar-buttons"></div>
  </div>

  <!-- Start Menu -->
  <div id="start-menu">
    <p data-lang-key="start_menu_intro">Hello! I'm Valery, passionate about creating stunning visual effects and immersive environments. Thanks for visiting my portfolio!</p>
    <a href="#" id="portfolio-start-menu" data-lang-key="open_portfolio">Open Portfolio</a>
    <a href="#" id="flappy-start-menu" data-lang-key="play_flappy">Play Flappy Game</a>
    <a href="mailto:xxater@gmail.com" data-lang-key="contact_me">Contact Me</a>
  </div>

  <!-- Portfolio Window -->
  <div class="window" id="portfolio-window">
    <div class="title-bar" id="portfolio-title-bar">
      <div class="title-bar-text" data-lang-key="portfolio_window_title">Portfolio - Valery Gorbunov</div>
      <div class="title-bar-controls">
        <button class="minimize-button" aria-label="Minimize"></button>
        <button class="maximize-button" aria-label="Maximize"></button>
        <button class="close-button" aria-label="Close"></button>
      </div>
    </div>
    <div class="content">
      <!-- Profile Photo -->
      <img src="https://media.licdn.com/dms/image/v2/D5603AQFY9qo828EKGA/profile-displayphoto-shrink_800_800/profile-displayphoto-shrink_800_800/0/1683906673729?e=1732752000&v=beta&t=RVMs7Fx5YQSPx5vEroUJTdas9L9MPpzZmigvup7paaU" alt="Profile Photo" class="profile-photo">

      <!-- Celebrate Button -->
      <button class="celebrate-button" id="celebrate-button" data-lang-key="celebrate">Celebrate</button>

      <!-- Explosion Animation Container -->
      <div class="explosion" id="explosion"></div>

      <!-- Portfolio Content -->
      <h1 data-lang-key="name">Valery Gorbunov</h1>
      <p data-lang-key="profession">VFX artist with experience in lighting and cinematics.</p>
      <p><strong data-lang-key="location_label">Location:</strong> Sosenskoye, Moscow City, Russia</p>
      <p><strong data-lang-key="contact_label">Contact:</strong> Telegram: <a href="https://t.me/VGFOR">@VGFOR</a>, Email: <a href="mailto:xxater@gmail.com">xxater@gmail.com</a></p>
      <div class="summary">
        <h2 data-lang-key="summary">Summary</h2>
        <p data-lang-key="summary_text">Unreal Engine artist experienced in environment art, lighting, VFX, and cinematics.</p>
      </div>
      <div class="skills">
        <h2 data-lang-key="skills">Skills</h2>
        <ul>
          <li data-lang-key="skill_unreal">Unreal Engine</li>
          <li data-lang-key="skill_zbrush">ZBrush</li>
          <li data-lang-key="skill_maya">Maya</li>
          <li data-lang-key="skill_blender">Blender</li>
          <li data-lang-key="skill_substance">Substance Designer/Painter</li>
          <li data-lang-key="skill_houdini">Houdini</li>
          <li data-lang-key="skill_embergen">Embergen</li>
          <li data-lang-key="skill_photoshop">Photoshop</li>
          <li data-lang-key="skill_after_effects">After Effects</li>
        </ul>
      </div>
      <div class="experience">
        <h2 data-lang-key="experience">Experience</h2>
        <!-- Experience Items -->
        <div class="experience-item">
          <strong data-lang-key="exp_various">Various</strong><br>
          <span data-lang-key="exp_role">VFX Artist</span><br>
          February 2023 - Present (1 year 8 months)<br>
          <span data-lang-key="exp_details">VFX work. Creating VFX for UE5 projects.</span>
        </div>
        <div class="experience-item">
          <strong data-lang-key="exp_qorpo">QORPO - Game Studio</strong><br>
          <span data-lang-key="exp_role_qorpo">VFX Artist/Lighting Artist</span><br>
          November 2022 - February 2023 (4 months)<br>
          <span data-lang-key="exp_details_qorpo">Created VFX in Embergen, Houdini, and UE5.</span>
        </div>
        <div class="experience-item">
          <strong data-lang-key="exp_girand">Girand</strong><br>
          <span data-lang-key="exp_role_girand">Producer/Team Lead</span><br>
          April 2022 - October 2022 (7 months)<br>
          <span data-lang-key="exp_details_girand">GIRAND: IN THE LOST CITY. NFT game. I was responsible for VFX, producing, cinematics, and team guidance.</span>
        </div>
        <div class="experience-item">
          <strong data-lang-key="exp_stage23">Stage 23</strong><br>
          <span data-lang-key="exp_role_stage23">Lead VFX Artist, Technical Artist</span><br>
          January 2021 - June 2022 (1 year 6 months)<br>
          Moscow, Moscow City, Russia.
        </div>
        <div class="experience-item">
          <strong data-lang-key="exp_mundfish">Mundfish</strong><br>
          <span data-lang-key="exp_role_mundfish">VFX Artist/Cinematic Artist</span><br>
          October 2020 - January 2021 (4 months)<br>
          Moscow, Moscow City, Russia.<br>
          <span data-lang-key="exp_details_mundfish">Responsibilities included camera work and VFX creation.</span>
        </div>
        <div class="experience-item">
          <strong data-lang-key="exp_qte">QTE</strong><br>
          <span data-lang-key="exp_role_qte">Cinematic Artist</span><br>
          March 2019 - September 2020 (1 year 7 months)<br>
          Moscow, Moscow City, Russia.<br>
          <span data-lang-key="exp_details_qte">Worked with Unreal Engine and CryEngine.<br>- Cinematography<br>- VFX<br>- Modeling<br>- Texturing<br>- Animation</span>
        </div>
        <div class="experience-item">
          <strong data-lang-key="exp_coderaptor">Coderaptor</strong><br>
          <span data-lang-key="exp_role_coderaptor">Environment Artist, Technical Artist, VFX Artist</span><br>
          May 2018 - February 2019 (10 months)<br>
          Moscow, Moscow City, Russia.<br>
          <span data-lang-key="exp_details_coderaptor">Technical art pipeline. VFX, environment art. Materials, lighting, blueprints.</span>
        </div>
        <div class="experience-item">
          <strong data-lang-key="exp_codeclass">CodeClass School</strong><br>
          <span data-lang-key="exp_role_codeclass">Teaching Unreal Engine/Unity</span><br>
          December 2017 - January 2019 (1 year 2 months)<br>
          Moscow, Moscow City, Russia.<br>
          <span data-lang-key="exp_details_codeclass">Interactive technologies.</span>
        </div>
        <div class="experience-item">
          <strong data-lang-key="exp_leveldesigner">Level Designer</strong><br>
          December 2017 - May 2018 (6 months)<br>
          Москва, Россия.
        </div>
      </div>
      <div class="education">
        <h2 data-lang-key="education">Education</h2>
        <p><strong data-lang-key="edu_hse">Higher School of Economics</strong></p>
        <p>Bachelor's degree in Game Design and Interactive Applications (2016 - 2021)</p>
      </div>
      <div class="portfolio">
        <h2 data-lang-key="portfolio_section">Portfolio</h2>
        <p data-lang-key="portfolio_placeholder">Replace the images and videos below with your own work.</p>
        <!-- Placeholder images -->
        <div style="width:100%; height:150px; background-color:#eee; display:flex; align-items:center; justify-content:center; border:1px solid #000; margin-bottom:10px; border-radius:4px;">
          <span data-lang-key="portfolio_image1">Image 1 Placeholder</span>
        </div>
        <div style="width:100%; height:150px; background-color:#eee; display:flex; align-items:center; justify-content:center; border:1px solid #000; margin-bottom:10px; border-radius:4px;">
          <span data-lang-key="portfolio_image2">Image 2 Placeholder</span>
        </div>
        <!-- Placeholder video -->
        <div style="width:100%; height:150px; background-color:#eee; display:flex; align-items:center; justify-content:center; border:1px solid #000; border-radius:4px;">
          <span data-lang-key="portfolio_video">Video Placeholder</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Flappy Game Window -->
  <div class="window" id="flappy-window">
    <div class="title-bar" id="flappy-title-bar">
      <div class="title-bar-text" data-lang-key="flappy_window_title">Flappy Game</div>
      <div class="title-bar-controls">
        <button class="minimize-button" aria-label="Minimize"></button>
        <button class="maximize-button" aria-label="Maximize"></button>
        <button class="close-button" aria-label="Close"></button>
      </div>
    </div>
    <div class="content">
      <canvas id="flappy-canvas" width="400" height="600"></canvas>
      <button id="restart-button" data-lang-key="restart">Restart</button>
    </div>
  </div>

  <!-- Taskbar Buttons Template (Hidden) -->
  <template id="taskbar-button-template">
    <div class="taskbar-button" data-window-id="">
      <span></span>
    </div>
  </template>

  <script>
    // Language Data
    const languages = {
      en: {
        loading: "Loading...",
        portfolio: "Portfolio",
        flappy_game: "Flappy Game",
        start: "Start",
        start_menu_intro: "Hello! I'm Valery, passionate about creating stunning visual effects and immersive environments. Thanks for visiting my portfolio!",
        open_portfolio: "Open Portfolio",
        play_flappy: "Play Flappy Game",
        contact_me: "Contact Me",
        portfolio_window_title: "Portfolio - Valery Gorbunov",
        name: "Valery Gorbunov",
        profession: "VFX artist with experience in lighting and cinematics.",
        location_label: "Location:",
        contact_label: "Contact:",
        summary: "Summary",
        summary_text: "Unreal Engine artist experienced in environment art, lighting, VFX, and cinematics.",
        skills: "Skills",
        skill_unreal: "Unreal Engine",
        skill_zbrush: "ZBrush",
        skill_maya: "Maya",
        skill_blender: "Blender",
        skill_substance: "Substance Designer/Painter",
        skill_houdini: "Houdini",
        skill_embergen: "Embergen",
        skill_photoshop: "Photoshop",
        skill_after_effects: "After Effects",
        experience: "Experience",
        exp_various: "Various",
        exp_role: "VFX Artist",
        exp_details: "VFX work. Creating VFX for UE5 projects.",
        exp_qorpo: "QORPO - Game Studio",
        exp_role_qorpo: "VFX Artist/Lighting Artist",
        exp_details_qorpo: "Created VFX in Embergen, Houdini, and UE5.",
        exp_girand: "Girand",
        exp_role_girand: "Producer/Team Lead",
        exp_details_girand: "GIRAND: IN THE LOST CITY. NFT game. I was responsible for VFX, producing, cinematics, and team guidance.",
        exp_stage23: "Stage 23",
        exp_role_stage23: "Lead VFX Artist, Technical Artist",
        exp_mundfish: "Mundfish",
        exp_role_mundfish: "VFX Artist/Cinematic Artist",
        exp_details_mundfish: "Responsibilities included camera work and VFX creation.",
        exp_qte: "QTE",
        exp_role_qte: "Cinematic Artist",
        exp_details_qte: "Worked with Unreal Engine and CryEngine.<br>- Cinematography<br>- VFX<br>- Modeling<br>- Texturing<br>- Animation",
        exp_coderaptor: "Coderaptor",
        exp_role_coderaptor: "Environment Artist, Technical Artist, VFX Artist",
        exp_details_coderaptor: "Technical art pipeline. VFX, environment art. Materials, lighting, blueprints.",
        exp_codeclass: "CodeClass School",
        exp_role_codeclass: "Teaching Unreal Engine/Unity",
        exp_details_codeclass: "Interactive technologies.",
        exp_leveldesigner: "Level Designer",
        education: "Education",
        edu_hse: "Higher School of Economics",
        education_details: "Bachelor's degree in Game Design and Interactive Applications (2016 - 2021)",
        portfolio_section: "Portfolio",
        portfolio_placeholder: "Replace the images and videos below with your own work.",
        portfolio_image1: "Image 1 Placeholder",
        portfolio_image2: "Image 2 Placeholder",
        portfolio_video: "Video Placeholder",
        celebrate: "Celebrate",
        flappy_window_title: "Flappy Game",
        restart: "Restart"
      },
      ru: {
        loading: "Загрузка...",
        portfolio: "Портфолио",
        flappy_game: "Игра Flappy",
        start: "Пуск",
        start_menu_intro: "Привет! Я Валерий, увлечен созданием потрясающих визуальных эффектов и захватывающих окружений. Спасибо за посещение моего портфолио!",
        open_portfolio: "Открыть Портфолио",
        play_flappy: "Играть в Flappy",
        contact_me: "Связаться со мной",
        portfolio_window_title: "Портфолио - Валерий Горбунов",
        name: "Валерий Горбунов",
        profession: "Визуальный художник с опытом в освещении и кинематографике.",
        location_label: "Местоположение:",
        contact_label: "Контакт:",
        summary: "Резюме",
        summary_text: "Художник Unreal Engine с опытом в области создания окружения, освещения, VFX и кинематографики.",
        skills: "Навыки",
        skill_unreal: "Unreal Engine",
        skill_zbrush: "ZBrush",
        skill_maya: "Maya",
        skill_blender: "Blender",
        skill_substance: "Substance Designer/Painter",
        skill_houdini: "Houdini",
        skill_embergen: "Embergen",
        skill_photoshop: "Photoshop",
        skill_after_effects: "After Effects",
        experience: "Опыт",
        exp_various: "Различный",
        exp_role: "VFX Художник",
        exp_details: "Работа над VFX. Создание VFX для проектов UE5.",
        exp_qorpo: "QORPO - Game Studio",
        exp_role_qorpo: "VFX Художник/Художник по освещению",
        exp_details_qorpo: "Создание VFX в Embergen, Houdini и UE5.",
        exp_girand: "Girand",
        exp_role_girand: "Продюсер/Лидер команды",
        exp_details_girand: "GIRAND: IN THE LOST CITY. NFT игра. Я отвечал за VFX, продюсирование, кинематографику и руководство командой.",
        exp_stage23: "Stage 23",
        exp_role_stage23: "Ведущий VFX Художник, Технический Художник",
        exp_mundfish: "Mundfish",
        exp_role_mundfish: "VFX Художник/Кинематографический Художник",
        exp_details_mundfish: "Обязанности включали работу с камерой и создание VFX.",
        exp_qte: "QTE",
        exp_role_qte: "Кинематографический Художник",
        exp_details_qte: "Работа с Unreal Engine и CryEngine.<br>- Кинематография<br>- VFX<br>- Моделирование<br>- Текстурирование<br>- Анимация",
        exp_coderaptor: "Coderaptor",
        exp_role_coderaptor: "Художник окружения, Технический Художник, VFX Художник",
        exp_details_coderaptor: "Технический арт-пайплайн. VFX, художник окружения. Материалы, освещение, blueprints.",
        exp_codeclass: "CodeClass School",
        exp_role_codeclass: "Преподавание Unreal Engine/Unity",
        exp_details_codeclass: "Интерактивные технологии.",
        exp_leveldesigner: "Дизайнер уровней",
        education: "Образование",
        edu_hse: "Высшая школа экономики",
        education_details: "Бакалавр в области геймдизайна и интерактивных приложений (2016 - 2021)",
        portfolio_section: "Портфолио",
        portfolio_placeholder: "Замените изображения и видео ниже на свои работы.",
        portfolio_image1: "Заполнитель изображения 1",
        portfolio_image2: "Заполнитель изображения 2",
        portfolio_video: "Заполнитель видео",
        celebrate: "Праздновать",
        flappy_window_title: "Игра Flappy",
        restart: "Перезапустить"
      }
    };

    let currentLanguage = 'en';

    // Function to switch language
    function switchLanguage(lang) {
      currentLanguage = lang;
      const elements = document.querySelectorAll('[data-lang-key]');
      elements.forEach(element => {
        const key = element.getAttribute('data-lang-key');
        if (languages[lang][key]) {
          element.innerHTML = languages[lang][key];
        }
      });
    }

    // Language Selection Modal
    document.addEventListener('DOMContentLoaded', function() {
      const languageModal = document.getElementById('language-modal');
      const englishButton = document.getElementById('english-button');
      const russianButton = document.getElementById('russian-button');

      englishButton.addEventListener('click', function() {
        switchLanguage('en');
        languageModal.style.display = 'none';
      });

      russianButton.addEventListener('click', function() {
        switchLanguage('ru');
        languageModal.style.display = 'none';
      });
    });

    // Loading screen
    window.addEventListener('load', function() {
      setTimeout(function() {
        document.getElementById('loading-screen').style.display = 'none';
        document.body.style.overflow = 'auto'; // Restore scrolling if needed
      }, 1500);
    });

    // Start button functionality
    const startButton = document.getElementById('start-button');
    const startMenu = document.getElementById('start-menu');
    let isStartMenuOpen = false;

    startButton.addEventListener('click', function(event) {
      event.stopPropagation();
      isStartMenuOpen = !isStartMenuOpen;
      startMenu.style.display = isStartMenuOpen ? 'block' : 'none';
    });

    // Start Menu Links
    document.getElementById('portfolio-start-menu').addEventListener('click', function(event) {
      event.preventDefault();
      openWindow(portfolioWindow, 'portfolio-taskbar-button');
    });

    document.getElementById('flappy-start-menu').addEventListener('click', function(event) {
      event.preventDefault();
      openWindow(flappyWindow, 'flappy-taskbar-button');
      startFlappyGame();
    });

    // Close the start menu when clicking outside
    document.addEventListener('click', function(event) {
      if (!startButton.contains(event.target) && !startMenu.contains(event.target)) {
        startMenu.style.display = 'none';
        isStartMenuOpen = false;
      }
    });

    // Desktop Icons to open windows
    const portfolioIcon = document.getElementById('portfolio-icon');
    const flappyIcon = document.getElementById('flappy-icon');
    const portfolioWindow = document.getElementById('portfolio-window');
    const flappyWindow = document.getElementById('flappy-window');
    const taskbarButtons = document.getElementById('taskbar-buttons');

    portfolioIcon.addEventListener('dblclick', function() {
      openWindow(portfolioWindow, 'portfolio-taskbar-button');
    });

    flappyIcon.addEventListener('dblclick', function() {
      openWindow(flappyWindow, 'flappy-taskbar-button');
      startFlappyGame();
    });

    // Window controls
    let zIndexCounter = 10;

    function addWindowControls(windowElement, taskbarId) {
      const minimizeButton = windowElement.querySelector('.minimize-button');
      const maximizeButton = windowElement.querySelector('.maximize-button');
      const closeButton = windowElement.querySelector('.close-button');
      let isMaximized = false;
      let prevPosition = {};
      let prevSize = {};

      minimizeButton.addEventListener('click', function() {
        windowElement.style.display = 'none';
        removeTaskbarButton(taskbarId);
      });

      maximizeButton.addEventListener('click', function() {
        if (!isMaximized) {
          prevPosition = {
            top: windowElement.style.top,
            left: windowElement.style.left,
            transform: windowElement.style.transform
          };
          prevSize = {
            width: windowElement.style.width,
            height: windowElement.style.height
          };
          windowElement.style.top = '0';
          windowElement.style.left = '0';
          windowElement.style.transform = 'none';
          windowElement.style.width = '100%';
          windowElement.style.height = '100%';
          isMaximized = true;
        } else {
          windowElement.style.top = prevPosition.top;
          windowElement.style.left = prevPosition.left;
          windowElement.style.transform = prevPosition.transform;
          windowElement.style.width = prevSize.width;
          windowElement.style.height = prevSize.height;
          isMaximized = false;
        }
      });

      closeButton.addEventListener('click', function() {
        windowElement.style.display = 'none';
        removeTaskbarButton(taskbarId);
        if (windowElement === flappyWindow) {
          stopFlappyGame();
        }
      });

      // Make the window draggable
      const titleBar = windowElement.querySelector('.title-bar');
      let isDragging = false;
      let dragOffset = { x: 0, y: 0 };

      titleBar.addEventListener('mousedown', function(e) {
        isDragging = true;
        dragOffset.x = e.clientX - windowElement.offsetLeft;
        dragOffset.y = e.clientY - windowElement.offsetTop;
        windowElement.style.zIndex = ++zIndexCounter;
      });

      document.addEventListener('mousemove', function(e) {
        if (isDragging) {
          windowElement.style.left = (e.clientX - dragOffset.x) + 'px';
          windowElement.style.top = (e.clientY - dragOffset.y) + 'px';
          windowElement.style.transform = 'none';
        }
      });

      document.addEventListener('mouseup', function() {
        isDragging = false;
      });

      // Bring window to front when clicked
      windowElement.addEventListener('mousedown', function() {
        windowElement.style.zIndex = ++zIndexCounter;
      });
    }

    // Initialize window controls
    addWindowControls(portfolioWindow, 'portfolio-taskbar-button');
    addWindowControls(flappyWindow, 'flappy-taskbar-button');

    // Taskbar button functionality
    function addTaskbarButton(title, id, windowElement) {
      if (document.getElementById(id)) return;

      const template = document.getElementById('taskbar-button-template').content.cloneNode(true);
      const button = template.querySelector('.taskbar-button');
      button.setAttribute('id', id);
      button.dataset.windowId = id;
      button.querySelector('span').textContent = title;
      taskbarButtons.appendChild(button);

      button.addEventListener('click', function() {
        if (windowElement.style.display === 'none') {
          windowElement.style.display = 'block';
          button.classList.add('active');
          windowElement.style.zIndex = ++zIndexCounter;
          if (windowElement === flappyWindow) {
            startFlappyGame();
          }
        } else {
          windowElement.style.display = 'none';
          button.classList.remove('active');
          if (windowElement === flappyWindow) {
            stopFlappyGame();
          }
        }
      });
    }

    function removeTaskbarButton(id) {
      const button = document.getElementById(id);
      if (button) {
        taskbarButtons.removeChild(button);
      }
    }

    function openWindow(windowElement, taskbarId) {
      windowElement.style.display = 'block';
      addTaskbarButton(currentLanguage === 'en' ? 'Portfolio' : 'Портфолио', taskbarId, windowElement);
      windowElement.style.zIndex = ++zIndexCounter;
    }

    /* ------------------- Flappy Game Implementation ------------------- */
    const flappyCanvas = document.getElementById('flappy-canvas');
    const flappyCtx = flappyCanvas.getContext('2d');
    let flappyAnimationFrame;
    let gameActive = false;
    let gameOver = false;
    let score = 0;

    const bird = {
      x: 50,
      y: 150,
      radius: 12,
      gravity: 0.4, // Reduced gravity for easier gameplay
      velocity: 0,
      lift: -9, // Reduced lift for easier gameplay
      color: '#FFD700', // Gold
      draw: function() {
        flappyCtx.fillStyle = this.color;
        flappyCtx.beginPath();
        // Draw a simple bird: circle with a triangle wing
        flappyCtx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
        flappyCtx.fill();
        flappyCtx.closePath();

        flappyCtx.fillStyle = '#FFA500'; // Orange for wing
        flappyCtx.beginPath();
        flappyCtx.moveTo(this.x, this.y);
        flappyCtx.lineTo(this.x - this.radius, this.y - this.radius);
        flappyCtx.lineTo(this.x, this.y - this.radius / 2);
        flappyCtx.fill();
        flappyCtx.closePath();
      }
    };

    const pipes = [];
    const pipeWidth = 60;
    const pipeGap = 160; // Increased gap for easier gameplay
    let pipeInterval = 1800; // Increased interval for fewer pipes
    let lastPipeTime = Date.now();

    const restartButton = document.getElementById('restart-button');

    // Touch and Click Events for Flapping
    flappyCanvas.addEventListener('click', flap);
    flappyCanvas.addEventListener('touchstart', function(e) {
      e.preventDefault();
      flap();
    });
    document.addEventListener('keydown', function(e) {
      if (e.code === 'Space') {
        flap();
      }
    });

    function flap() {
      if (gameActive && !gameOver) {
        bird.velocity = bird.lift;
      }
    }

    function startFlappyGame() {
      resetGame();
      gameActive = true;
      gameOver = false;
      flappyAnimationFrame = requestAnimationFrame(updateFlappyGame);
    }

    function stopFlappyGame() {
      gameActive = false;
      cancelAnimationFrame(flappyAnimationFrame);
    }

    function resetGame() {
      bird.y = 150;
      bird.velocity = 0;
      pipes.length = 0;
      lastPipeTime = Date.now();
      gameOver = false;
      score = 0;
      restartButton.style.display = 'none';
      flappyCanvas.style.cursor = 'pointer';
    }

    function updateFlappyGame() {
      flappyCtx.clearRect(0, 0, flappyCanvas.width, flappyCanvas.height);

      // Update Bird
      bird.velocity += bird.gravity;
      bird.y += bird.velocity;

      // Draw Bird
      bird.draw();

      // Draw Score
      flappyCtx.fillStyle = 'black';
      flappyCtx.font = '20px Arial';
      flappyCtx.fillText(`Score: ${score}`, 10, 30);

      // Generate Pipes
      const currentTime = Date.now();
      if (currentTime - lastPipeTime > pipeInterval) {
        const topPipeHeight = Math.floor(Math.random() * (flappyCanvas.height - pipeGap - 100)) + 50;
        const bottomPipeY = topPipeHeight + pipeGap;
        pipes.push({
          x: flappyCanvas.width,
          top: topPipeHeight,
          bottom: bottomPipeY,
          passed: false
        });
        lastPipeTime = currentTime;
      }

      // Update and Draw Pipes
      for (let i = pipes.length - 1; i >= 0; i--) {
        const pipe = pipes[i];
        pipe.x -= 2; // Reduced speed for easier gameplay

        // Draw Top Pipe
        flappyCtx.fillStyle = '#228B22'; // Forest Green
        flappyCtx.fillRect(pipe.x, 0, pipeWidth, pipe.top);

        // Draw Bottom Pipe
        flappyCtx.fillStyle = '#228B22'; // Forest Green
        flappyCtx.fillRect(pipe.x, pipe.bottom, pipeWidth, flappyCanvas.height - pipe.bottom);

        // Collision Detection
        if (bird.x + bird.radius > pipe.x && bird.x - bird.radius < pipe.x + pipeWidth) {
          if (bird.y - bird.radius < pipe.top || bird.y + bird.radius > pipe.bottom) {
            endGame();
          }
        }

        // Update Score
        if (!pipe.passed && pipe.x + pipeWidth < bird.x) {
          pipe.passed = true;
          score += 1;
        }

        // Remove off-screen pipes
        if (pipe.x + pipeWidth < 0) {
          pipes.splice(i, 1);
        }
      }

      // Check for collision with ground or ceiling
      if (bird.y + bird.radius > flappyCanvas.height || bird.y - bird.radius < 0) {
        endGame();
      }

      if (!gameOver) {
        flappyAnimationFrame = requestAnimationFrame(updateFlappyGame);
      }
    }

    function endGame() {
      gameOver = true;
      gameActive = false;
      flappyCanvas.style.cursor = 'default';
      restartButton.style.display = 'block';
      alert(currentLanguage === 'en' ? `Game Over! Your Score: ${score}` : `Игра окончена! Ваш счет: ${score}`);
      stopFlappyGame();
    }

    /* ------------------- Restart Button Functionality ------------------- */
    restartButton.addEventListener('click', function() {
      startFlappyGame();
    });

    /* ------------------- Explosion Animation ------------------- */
    const celebrateButton = document.getElementById('celebrate-button');
    const explosion = document.getElementById('explosion');

    celebrateButton.addEventListener('click', function() {
      triggerExplosion();
    });

    function triggerExplosion() {
      explosion.style.display = 'block';
      // Reset animation
      explosion.style.animation = 'none';
      void explosion.offsetWidth; // Trigger reflow
      explosion.style.animation = null;

      // Hide after animation duration
      setTimeout(function() {
        explosion.style.display = 'none';
      }, 500); // Match the animation duration
    }
  </script>
</body>
</html>
