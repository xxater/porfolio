<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Valery Gorbunov Portfolio</title>
  <style>
    /* Reset and Basic Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'MS Sans Serif', Arial, sans-serif;
      font-size: 14px;
      color: black;
      overflow: hidden;
      position: relative;
      height: 100vh;
      width: 100vw;
    }

    /* Windows 98 Style Background Inspired by Windows XP Bliss */
    .background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to top, #7ec850 50%, #87ceeb 50%);
      z-index: -2;
    }
    .background::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: -25%;
      width: 150%;
      height: 50%;
      background: radial-gradient(circle at 50% 100%, #7ec850, #7ec850 60%, transparent 60%),
                  radial-gradient(circle at 20% 100%, #7ec850, #7ec850 50%, transparent 50%);
      background-repeat: no-repeat;
      background-size: cover;
    }

    /* Loading Screen */
    #loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #C0C0C0;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      flex-direction: column;
    }
    #loading-screen h1 {
      color: black;
      font-size: 24px;
      margin-bottom: 20px;
    }
    #loading-screen .spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #000;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Desktop Icons */
    .desktop-icon {
      position: absolute;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      width: 60px;
      margin: 10px;
      cursor: pointer;
      user-select: none;
    }
    .desktop-icon .icon {
      width: 48px;
      height: 48px;
      background-color: #C0C0C0;
      border: 2px solid #000;
      border-radius: 4px;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 5px;
      position: relative;
    }
    .desktop-icon .icon::before {
      content: '';
      width: 24px;
      height: 24px;
      background-size: contain;
    }
    /* Portfolio Icon */
    #portfolio-icon .icon::before {
      background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiB4PSI0IiB5PSI0IiBmaWxsPSIjMDBGRjAwIi8+PC9zdmc+');
    }
    /* Game Icon */
    #game-icon .icon::before {
      background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMTEiIGZpbGw9IiNGREQwMDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIyIi8+PC9zdmc+');
    }
    /* Pinball Icon */
    #pinball-icon .icon::before {
      background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGxpbmUgeDE9IjEyIiB5MT0iMCIgeDI9IjEyIiB5Mj0iMjQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIyIi8+PGxpbmUgeDE9IjQiIHkxPSI0IiB4Mj0iMjAiIHkyPSIwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIvPjwvc3ZnPg==');
    }
    .desktop-icon span {
      color: white;
      text-shadow: 1px 1px black;
      font-size: 12px;
      text-align: center;
      word-break: break-word;
    }

    /* Window Styles */
    .window {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border: 2px solid #000;
      border-top-color: #fff;
      border-left-color: #fff;
      width: 90%;
      max-width: 600px;
      background-color: #c0c0c0;
      cursor: default;
      z-index: 10;
      display: none;
      overflow: hidden;
      border-radius: 4px;
    }
    .title-bar {
      background: linear-gradient(#000080, #000060);
      color: white;
      padding: 8px 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: move;
      user-select: none;
    }
    .title-bar-text {
      font-weight: bold;
      font-size: 16px;
    }
    .title-bar-controls {
      display: flex;
    }
    .title-bar-controls button {
      background-color: #c0c0c0;
      border: 1px solid #fff;
      width: 20px;
      height: 20px;
      margin-left: 4px;
      padding: 0;
      position: relative;
      cursor: pointer;
      border-radius: 2px;
    }
    /* Window Control Icons */
    .title-bar-controls button.minimize-button::before {
      content: '';
      position: absolute;
      top: 8px;
      left: 4px;
      width: 12px;
      height: 2px;
      background-color: black;
    }
    .title-bar-controls button.maximize-button::before {
      content: '';
      position: absolute;
      top: 4px;
      left: 4px;
      width: 12px;
      height: 12px;
      border: 1px solid black;
    }
    .title-bar-controls button.close-button::before,
    .title-bar-controls button.close-button::after {
      content: '';
      position: absolute;
      top: 4px;
      left: 8px;
      width: 2px;
      height: 12px;
      background-color: black;
    }
    .title-bar-controls button.close-button::before {
      transform: rotate(45deg);
    }
    .title-bar-controls button.close-button::after {
      transform: rotate(-45deg);
    }
    .content {
      padding: 10px;
      overflow: auto;
      max-height: calc(100vh - 80px);
    }
    h1, h2, h3 {
      margin: 10px 0;
    }
    ul {
      list-style-type: none;
      padding-left: 0;
    }
    .skills, .experience, .education, .portfolio {
      margin-bottom: 20px;
    }
    .experience-item {
      margin-bottom: 10px;
    }
    a {
      color: blue;
      text-decoration: underline;
    }

    /* Taskbar */
    #taskbar {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 40px;
      background-color: #c0c0c0;
      border-top: 2px solid #fff;
      border-left: 2px solid #fff;
      display: flex;
      align-items: center;
      z-index: 20;
    }
    #start-button {
      background-color: #c0c0c0;
      border: 2px solid #fff;
      border-top-color: #000;
      border-left-color: #000;
      padding: 8px 12px;
      cursor: pointer;
      margin-left: 5px;
      display: flex;
      align-items: center;
      position: relative;
      border-radius: 2px;
      user-select: none;
    }
    #start-button::before {
      content: '';
      display: inline-block;
      width: 16px;
      height: 16px;
      background-color: #000080;
      border: 1px solid #fff;
      margin-right: 8px;
      border-radius: 2px;
    }
    #start-button span {
      font-size: 14px;
    }
    #taskbar-buttons {
      display: flex;
      align-items: center;
      margin-left: 10px;
      overflow-x: auto;
    }
    .taskbar-button {
      background-color: #c0c0c0;
      border: 2px solid #fff;
      border-top-color: #000;
      border-left-color: #000;
      padding: 6px 10px;
      cursor: pointer;
      margin-right: 4px;
      display: flex;
      align-items: center;
      border-radius: 2px;
      user-select: none;
      white-space: nowrap;
      font-size: 14px;
    }
    .taskbar-button.active {
      border-top-color: #fff;
      border-left-color: #fff;
      border-bottom-color: #000;
      border-right-color: #000;
    }

    /* Start Menu */
    #start-menu {
      position: fixed;
      bottom: 40px;
      left: 5px;
      background-color: #c0c0c0;
      border: 2px solid #000;
      border-top-color: #fff;
      border-left-color: #fff;
      width: 220px;
      display: none;
      padding: 10px;
      z-index: 25;
      border-radius: 4px;
    }
    #start-menu p {
      margin: 0 0 10px 0;
      font-size: 14px;
    }
    #start-menu a {
      display: block;
      margin: 5px 0;
      color: blue;
      text-decoration: underline;
    }

    /* Prevent selection */
    .unselectable {
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }

    /* Scrollbar Styling for Taskbar Buttons */
    #taskbar-buttons {
      scrollbar-width: none; /* Firefox */
    }
    #taskbar-buttons::-webkit-scrollbar {
      display: none; /* Chrome, Safari, Opera */
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .desktop-icon {
        width: 50px;
        margin: 8px;
      }
      .desktop-icon .icon {
        width: 40px;
        height: 40px;
      }
      .desktop-icon span {
        font-size: 10px;
      }
      .window {
        width: 95%;
        height: 90%;
      }
      #taskbar {
        height: 50px;
      }
      #start-button {
        padding: 10px 14px;
      }
      .taskbar-button {
        padding: 8px 12px;
        font-size: 12px;
      }
    }
  </style>
</head>
<body>
  <!-- Background -->
  <div class="background"></div>

  <!-- Loading Screen -->
  <div id="loading-screen">
    <h1>Loading...</h1>
    <div class="spinner"></div>
  </div>

  <!-- Desktop Icons -->
  <div class="desktop-icon unselectable" id="portfolio-icon" style="top: 20%; left: 10%;">
    <div class="icon"></div>
    <span>Portfolio</span>
  </div>
  <div class="desktop-icon unselectable" id="pinball-icon" style="top: 20%; left: 30%;">
    <div class="icon"></div>
    <span>Pinball Game</span>
  </div>

  <!-- Taskbar -->
  <div id="taskbar">
    <div id="start-button">
      <span>Start</span>
    </div>
    <div id="taskbar-buttons"></div>
  </div>

  <!-- Start Menu -->
  <div id="start-menu">
    <p>Hello! I'm Valery, passionate about creating stunning visual effects and immersive environments. Thanks for visiting my portfolio!</p>
    <a href="#" id="portfolio-start-menu">Open Portfolio</a>
    <a href="#" id="pinball-start-menu">Play Pinball</a>
    <a href="mailto:xxater@gmail.com">Contact Me</a>
  </div>

  <!-- Portfolio Window -->
  <div class="window" id="portfolio-window">
    <div class="title-bar" id="portfolio-title-bar">
      <div class="title-bar-text">Portfolio - Valery Gorbunov</div>
      <div class="title-bar-controls">
        <button class="minimize-button"></button>
        <button class="maximize-button"></button>
        <button class="close-button"></button>
      </div>
    </div>
    <div class="content">
      <!-- Portfolio Content -->
      <h1>Valery Gorbunov</h1>
      <p>VFX artist with experience in lighting and cinematics.</p>
      <p><strong>Location:</strong> Sosenskoye, Moscow City, Russia</p>
      <p><strong>Contact:</strong> Telegram: <a href="https://t.me/VGFOR">@VGFOR</a>, Email: <a href="mailto:xxater@gmail.com">xxater@gmail.com</a></p>
      <div class="summary">
        <h2>Summary</h2>
        <p>Unreal Engine artist experienced in environment art, lighting, VFX, and cinematics.</p>
      </div>
      <div class="skills">
        <h2>Skills</h2>
        <ul>
          <li>Unreal Engine</li>
          <li>ZBrush</li>
          <li>Maya</li>
          <li>Blender</li>
          <li>Substance Designer/Painter</li>
          <li>Houdini</li>
          <li>Embergen</li>
          <li>Photoshop</li>
          <li>After Effects</li>
        </ul>
      </div>
      <div class="experience">
        <h2>Experience</h2>
        <!-- Experience Items -->
        <div class="experience-item">
          <strong>VFX Artist</strong> at <em>Company XYZ</em> (2021 - Present)
          <p>Responsibilities included creating dynamic visual effects for various projects...</p>
        </div>
        <!-- Add more experience items as needed -->
      </div>
      <div class="education">
        <h2>Education</h2>
        <p><strong>Higher School of Economics</strong></p>
        <p>Bachelor's degree in Game Design and Interactive Applications (2016 - 2021)</p>
      </div>
      <div class="portfolio">
        <h2>Portfolio</h2>
        <p>Replace the images and videos below with your own work.</p>
        <!-- Placeholder images -->
        <div style="width:100%; height:150px; background-color:#eee; display:flex; align-items:center; justify-content:center; border:1px solid #000; margin-bottom:10px; border-radius:4px;">
          <span>Image 1 Placeholder</span>
        </div>
        <div style="width:100%; height:150px; background-color:#eee; display:flex; align-items:center; justify-content:center; border:1px solid #000; margin-bottom:10px; border-radius:4px;">
          <span>Image 2 Placeholder</span>
        </div>
        <!-- Placeholder video -->
        <div style="width:100%; height:150px; background-color:#eee; display:flex; align-items:center; justify-content:center; border:1px solid #000; border-radius:4px;">
          <span>Video Placeholder</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Pinball Game Window -->
  <div class="window" id="pinball-window">
    <div class="title-bar" id="pinball-title-bar">
      <div class="title-bar-text">Pinball Game</div>
      <div class="title-bar-controls">
        <button class="minimize-button"></button>
        <button class="maximize-button"></button>
        <button class="close-button"></button>
      </div>
    </div>
    <div class="content" style="padding: 0;">
      <canvas id="pinball-canvas" width="400" height="600"></canvas>
    </div>
  </div>

  <!-- Taskbar Buttons Template (Hidden) -->
  <template id="taskbar-button-template">
    <div class="taskbar-button" data-window-id="">
      <span></span>
    </div>
  </template>

  <script>
    // Loading screen
    window.addEventListener('load', function() {
      setTimeout(function() {
        document.getElementById('loading-screen').style.display = 'none';
        document.body.style.overflow = 'auto'; // Restore scrolling if needed
      }, 1500);
    });

    // Start button functionality
    const startButton = document.getElementById('start-button');
    const startMenu = document.getElementById('start-menu');
    let isStartMenuOpen = false;

    startButton.addEventListener('click', function(event) {
      event.stopPropagation();
      isStartMenuOpen = !isStartMenuOpen;
      startMenu.style.display = isStartMenuOpen ? 'block' : 'none';
    });

    // Start Menu Links
    document.getElementById('portfolio-start-menu').addEventListener('click', function(event) {
      event.preventDefault();
      openWindow(portfolioWindow, 'Portfolio - Valery Gorbunov', 'portfolio-taskbar-button');
    });

    document.getElementById('pinball-start-menu').addEventListener('click', function(event) {
      event.preventDefault();
      openWindow(pinballWindow, 'Pinball Game', 'pinball-taskbar-button');
      startPinballGame();
    });

    // Close the start menu when clicking outside
    document.addEventListener('click', function(event) {
      if (!startButton.contains(event.target) && !startMenu.contains(event.target)) {
        startMenu.style.display = 'none';
        isStartMenuOpen = false;
      }
    });

    // Desktop Icons to open windows
    const portfolioIcon = document.getElementById('portfolio-icon');
    const pinballIcon = document.getElementById('pinball-icon');
    const portfolioWindow = document.getElementById('portfolio-window');
    const pinballWindow = document.getElementById('pinball-window');
    const taskbarButtons = document.getElementById('taskbar-buttons');

    portfolioIcon.addEventListener('dblclick', function() {
      openWindow(portfolioWindow, 'Portfolio - Valery Gorbunov', 'portfolio-taskbar-button');
    });

    pinballIcon.addEventListener('dblclick', function() {
      openWindow(pinballWindow, 'Pinball Game', 'pinball-taskbar-button');
      startPinballGame();
    });

    // Window controls
    let zIndexCounter = 10;

    function addWindowControls(windowElement, titleBarId, taskbarId, windowTitle) {
      const minimizeButton = windowElement.querySelector('.minimize-button');
      const maximizeButton = windowElement.querySelector('.maximize-button');
      const closeButton = windowElement.querySelector('.close-button');
      let isMaximized = false;
      let prevPosition = {};
      let prevSize = {};

      minimizeButton.addEventListener('click', function() {
        windowElement.style.display = 'none';
        removeTaskbarButton(taskbarId);
      });

      maximizeButton.addEventListener('click', function() {
        if (!isMaximized) {
          prevPosition = {
            top: windowElement.style.top,
            left: windowElement.style.left,
            transform: windowElement.style.transform
          };
          prevSize = {
            width: windowElement.style.width,
            height: windowElement.style.height
          };
          windowElement.style.top = '0';
          windowElement.style.left = '0';
          windowElement.style.transform = 'none';
          windowElement.style.width = '100%';
          windowElement.style.height = '100%';
          isMaximized = true;
        } else {
          windowElement.style.top = prevPosition.top;
          windowElement.style.left = prevPosition.left;
          windowElement.style.transform = prevPosition.transform;
          windowElement.style.width = prevSize.width;
          windowElement.style.height = prevSize.height;
          isMaximized = false;
        }
      });

      closeButton.addEventListener('click', function() {
        windowElement.style.display = 'none';
        removeTaskbarButton(taskbarId);
        if (windowElement === pinballWindow) {
          stopPinballGame();
        }
      });

      // Make the window draggable
      const titleBar = windowElement.querySelector('.title-bar');
      let isDragging = false;
      let dragOffset = { x: 0, y: 0 };

      titleBar.addEventListener('mousedown', function(e) {
        isDragging = true;
        dragOffset.x = e.clientX - windowElement.offsetLeft;
        dragOffset.y = e.clientY - windowElement.offsetTop;
        windowElement.style.zIndex = ++zIndexCounter;
      });

      document.addEventListener('mousemove', function(e) {
        if (isDragging) {
          windowElement.style.left = (e.clientX - dragOffset.x) + 'px';
          windowElement.style.top = (e.clientY - dragOffset.y) + 'px';
          windowElement.style.transform = 'none';
        }
      });

      document.addEventListener('mouseup', function() {
        isDragging = false;
      });

      // Bring window to front when clicked
      windowElement.addEventListener('mousedown', function() {
        windowElement.style.zIndex = ++zIndexCounter;
      });
    }

    // Initialize window controls
    addWindowControls(portfolioWindow, 'portfolio-title-bar', 'portfolio-taskbar-button', 'Portfolio - Valery Gorbunov');
    addWindowControls(pinballWindow, 'pinball-title-bar', 'pinball-taskbar-button', 'Pinball Game');

    // Taskbar button functionality
    function addTaskbarButton(title, id, windowElement) {
      if (document.getElementById(id)) return;

      const template = document.getElementById('taskbar-button-template').content.cloneNode(true);
      const button = template.querySelector('.taskbar-button');
      button.setAttribute('id', id);
      button.dataset.windowId = id;
      button.querySelector('span').textContent = title;
      taskbarButtons.appendChild(button);

      button.addEventListener('click', function() {
        if (windowElement.style.display === 'none') {
          windowElement.style.display = 'block';
          button.classList.add('active');
        } else {
          windowElement.style.display = 'none';
          button.classList.remove('active');
          if (windowElement === pinballWindow) {
            stopPinballGame();
          }
        }
      });
    }

    function removeTaskbarButton(id) {
      const button = document.getElementById(id);
      if (button) {
        taskbarButtons.removeChild(button);
      }
    }

    function openWindow(windowElement, title, taskbarId) {
      windowElement.style.display = 'block';
      addTaskbarButton(title, taskbarId, windowElement);
      windowElement.style.zIndex = ++zIndexCounter;
    }

    /* ------------------- Pinball Game Implementation ------------------- */
    const pinballCanvas = document.getElementById('pinball-canvas');
    const ctx = pinballCanvas.getContext('2d');
    let pinballInterval;
    let ball = { x: 200, y: 300, radius: 10, dx: 2, dy: -2 };
    let paddles = [
      { x: 50, y: 580, width: 80, height: 10, dx: 5 },
      { x: 170, y: 580, width: 80, height: 10, dx: 5 }
    ];
    let keys = {};

    function startPinballGame() {
      ball = { x: 200, y: 300, radius: 10, dx: 2, dy: -2 };
      paddles = [
        { x: 50, y: 580, width: 80, height: 10, dx: 5 },
        { x: 170, y: 580, width: 80, height: 10, dx: 5 }
      ];
      keys = {};
      document.addEventListener('keydown', keyDownPinball);
      document.addEventListener('keyup', keyUpPinball);
      pinballInterval = requestAnimationFrame(drawPinball);
    }

    function stopPinballGame() {
      cancelAnimationFrame(pinballInterval);
      document.removeEventListener('keydown', keyDownPinball);
      document.removeEventListener('keyup', keyUpPinball);
    }

    function keyDownPinball(e) {
      keys[e.key] = true;
    }

    function keyUpPinball(e) {
      keys[e.key] = false;
    }

    function drawPinball() {
      ctx.clearRect(0, 0, pinballCanvas.width, pinballCanvas.height);

      // Draw ball
      ctx.beginPath();
      ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
      ctx.fillStyle = "#FF0000";
      ctx.fill();
      ctx.closePath();

      // Draw paddles
      paddles.forEach(paddle => {
        ctx.beginPath();
        ctx.rect(paddle.x, paddle.y, paddle.width, paddle.height);
        ctx.fillStyle = "#0000FF";
        ctx.fill();
        ctx.closePath();
      });

      // Move paddles
      paddles.forEach(paddle => {
        if (keys['ArrowLeft'] && paddle.x > 0) {
          paddle.x -= paddle.dx;
        }
        if (keys['ArrowRight'] && paddle.x < pinballCanvas.width - paddle.width) {
          paddle.x += paddle.dx;
        }
      });

      // Move ball
      ball.x += ball.dx;
      ball.y += ball.dy;

      // Collision with walls
      if (ball.x + ball.dx > pinballCanvas.width - ball.radius || ball.x + ball.dx < ball.radius) {
        ball.dx = -ball.dx;
      }
      if (ball.y + ball.dy < ball.radius) {
        ball.dy = -ball.dy;
      } else if (ball.y + ball.dy > pinballCanvas.height - ball.radius) {
        // Check collision with paddles
        let hitPaddle = paddles.some(paddle => {
          return ball.x > paddle.x && ball.x < paddle.x + paddle.width &&
                 ball.y + ball.radius > paddle.y && ball.y < paddle.y + paddle.height;
        });
        if (hitPaddle) {
          ball.dy = -ball.dy;
        } else {
          alert('Game Over!');
          stopPinballGame();
          return;
        }
      }

      pinballInterval = requestAnimationFrame(drawPinball);
    }
  </script>
</body>
</html>
